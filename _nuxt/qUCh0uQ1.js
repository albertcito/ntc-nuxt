import{z as P,A as xt,B as Ft,C as ie,D as Ve,E as Ie,G as w,d as _,H,I as Bt,c as te,J as pe,F as Be,K as It,L as ze,M as St,N as qe,O as Lt,r as J,P as it,Q as Me,R as Ee,w as T,S as V,e as ae,U as h,V as ce,W as _t,f as Z,X as ge,Y as Se,Z as at,$ as Mt,o as kt,b as Dt,a0 as lt,a1 as wt,a2 as $t,a3 as se,a4 as $e,a5 as rt,a6 as ot,a7 as Tt,y as ut,a8 as Kt,a9 as Te,aa as ct,ab as Ge,ac as dt,ad as Rt,ae as ht,af as Pt,n as N,ag as Ce,ah as Ye,t as ke,ai as Ke,aj as Ot,ak as Nt,al as Ht,g as De,am as xe,an as jt,ao as Vt,ap as zt,aq as qt,ar as Ut,as as Wt,at as Gt,au as Yt,av as Qt,aw as Qe,ax as Xt,ay as Jt,az as Zt,aA as es,aB as ts,aC as ss}from"./B2L3QOlC.js";import{_ as ns}from"./Bwq2b8OG.js";import{g as is}from"./UiIu7fuE.js";import{u as as,f as ls}from"./DR5sr55j.js";function rs(){return{ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",SPACE_CODE:"Space"}}function os(s){return P(()=>{var e;return xt(s)?!!((e=Ft(s))!=null&&e.closest("form")):!0})}const Xe=ie({inheritAttrs:!1,__name:"VisuallyHiddenInputBubble",props:{name:{},value:{},checked:{type:Boolean,default:void 0},required:{type:Boolean},disabled:{type:Boolean},feature:{default:"fully-hidden"}},setup(s){const e=s,{primitiveElement:t,currentElement:n}=Ve(),a=P(()=>e.checked??e.value);return Ie(a,(i,l)=>{if(!n.value)return;const o=n.value,u=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(u,"value").set;if(r&&i!==l){const d=new Event("input",{bubbles:!0}),m=new Event("change",{bubbles:!0});r.call(o,i),o.dispatchEvent(d),o.dispatchEvent(m)}}),(i,l)=>(_(),w(Bt,H({ref_key:"primitiveElement",ref:t},{...e,...i.$attrs},{as:"input"}),null,16))}}),us=ie({inheritAttrs:!1,__name:"VisuallyHiddenInput",props:{name:{},value:{},checked:{type:Boolean,default:void 0},required:{type:Boolean},disabled:{type:Boolean},feature:{default:"fully-hidden"}},setup(s){const e=s,t=P(()=>typeof e.value=="object"&&Array.isArray(e.value)&&e.value.length===0&&e.required),n=P(()=>typeof e.value=="string"||typeof e.value=="number"||typeof e.value=="boolean"?[{name:e.name,value:e.value}]:typeof e.value=="object"&&Array.isArray(e.value)?e.value.flatMap((a,i)=>typeof a=="object"?Object.entries(a).map(([l,o])=>({name:`[${e.name}][${i}][${l}]`,value:o})):{name:`[${e.name}][${i}]`,value:a}):e.value!==null&&typeof e.value=="object"&&!Array.isArray(e.value)?Object.entries(e.value).map(([a,i])=>({name:`[${e.name}][${a}]`,value:i})):[]);return(a,i)=>t.value?(_(),w(Xe,H({key:a.name},{...e,...a.$attrs},{name:a.name,value:a.value}),null,16,["name","value"])):(_(!0),te(Be,{key:1},pe(n.value,l=>(_(),w(Xe,H({key:l.name,ref_for:!0},{...e,...a.$attrs},{name:l.name,value:l.value}),null,16,["name","value"]))),128))}});function cs(s,e,t){return s===void 0?!1:Array.isArray(s)?s.some(n=>me(n,e,t)):me(s,e,t)}function me(s,e,t){return s===void 0||e===void 0?!1:typeof s=="string"?s===e:typeof t=="function"?t(s,e):typeof t=="string"?(s==null?void 0:s[t])===(e==null?void 0:e[t]):It(s,e)}const[Ue,ds]=ze("ListboxRoot"),hs=ie({__name:"ListboxRoot",props:{modelValue:{},defaultValue:{},multiple:{type:Boolean},orientation:{default:"vertical"},dir:{},disabled:{type:Boolean},selectionBehavior:{default:"toggle"},highlightOnHover:{type:Boolean},by:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean}},emits:["update:modelValue","highlight","entryFocus","leave"],setup(s,{expose:e,emit:t}){const n=s,a=t,{multiple:i,highlightOnHover:l,orientation:o,disabled:u,selectionBehavior:c,dir:r}=St(n),{getItems:d}=qe({isProvider:!0}),{handleTypeaheadSearch:m}=as(),{primitiveElement:y,currentElement:v}=Ve(),L=rs(),F=Lt(r),B=os(v),M=J(),D=J(!1),E=J(!0),A=it(n,"modelValue",a,{defaultValue:n.defaultValue??(i.value?[]:void 0),passive:n.modelValue===void 0,deep:!0});function b(g){if(D.value=!0,n.multiple){const x=Array.isArray(A.value)?[...A.value]:[],I=x.findIndex($=>me($,g,n.by));n.selectionBehavior==="toggle"?(I===-1?x.push(g):x.splice(I,1),A.value=x):(A.value=[g],M.value=g)}else n.selectionBehavior==="toggle"&&me(A.value,g,n.by)?A.value=void 0:A.value=g;setTimeout(()=>{D.value=!1},1)}const f=J(null),S=J(null),k=J(!1),p=J(!1),j=Me(),K=Me(),he=Me();function R(){return d().map(g=>g.ref).filter(g=>g.dataset.disabled!=="")}function O(g,x=!0){if(!g)return;f.value=g,E.value&&f.value.focus(),x&&f.value.scrollIntoView({block:"nearest"});const I=d().find($=>$.ref===g);a("highlight",I)}function re(g){if(k.value)he.trigger(g);else{const x=d().find(I=>me(I.value,g,n.by));x&&(f.value=x.ref,O(x.ref))}}function ve(g){f.value&&f.value.isConnected&&(g.preventDefault(),g.stopPropagation(),p.value||f.value.click())}function ye(g){if(E.value){if(D.value=!0,k.value)K.trigger(g);else{const x=g.altKey||g.ctrlKey||g.metaKey;if(x&&g.key==="a"&&i.value){const I=d(),$=I.map(G=>G.value);A.value=[...$],g.preventDefault(),O(I[I.length-1].ref)}else if(!x){const I=m(g.key,d());I&&O(I)}}setTimeout(()=>{D.value=!1},1)}}function be(){p.value=!0}function q(){requestAnimationFrame(()=>{p.value=!1})}function z(){Ee(()=>{const g=new KeyboardEvent("keydown",{key:"PageUp"});Y(g)})}function W(g){const x=f.value;x!=null&&x.isConnected&&(S.value=x),f.value=null,a("leave",g)}function X(g){var I,$;const x=new CustomEvent("listbox.entryFocus",{bubbles:!1,cancelable:!0});if((I=g.currentTarget)==null||I.dispatchEvent(x),a("entryFocus",x),!x.defaultPrevented)if(S.value)O(S.value);else{const G=($=R())==null?void 0:$[0];O(G)}}function Y(g){const x=is(g,o.value,F.value);if(!x)return;let I=R();if(f.value){if(x==="last")I.reverse();else if(x==="prev"||x==="next"){x==="prev"&&I.reverse();const $=I.indexOf(f.value);I=I.slice($+1)}Q(g,I[0])}if(I.length){const $=!f.value&&x==="prev"?I.length-1:0;O(I[$])}if(k.value)return K.trigger(g)}function Q(g,x){var $;if(!(k.value||n.selectionBehavior!=="replace"||!i.value||!Array.isArray(A.value)||(g.altKey||g.ctrlKey||g.metaKey)&&!g.shiftKey)&&g.shiftKey){const G=d().filter(fe=>fe.ref.dataset.disabled!=="");let Ae=($=G.find(fe=>fe.ref===x))==null?void 0:$.value;if(g.key===L.END?Ae=G[G.length-1].value:g.key===L.HOME&&(Ae=G[0].value),!Ae||!M.value)return;const Ct=ls(G.map(fe=>fe.value),M.value,Ae);A.value=Ct}}async function oe(g){if(await Ee(),k.value)j.trigger(g);else{const x=R(),I=x.find($=>$.dataset.state==="checked");I?O(I):x.length&&O(x[0])}}return Ie(A,()=>{D.value||Ee(()=>{oe()})},{immediate:!0,deep:!0}),e({highlightedElement:f,highlightItem:re,highlightFirstItem:z,highlightSelected:oe,getItems:d}),ds({modelValue:A,onValueChange:b,multiple:i,orientation:o,dir:F,disabled:u,highlightOnHover:l,highlightedElement:f,isVirtual:k,virtualFocusHook:j,virtualKeydownHook:K,virtualHighlightHook:he,by:n.by,firstValue:M,selectionBehavior:c,focusable:E,onLeave:W,onEnter:X,changeHighlight:O,onKeydownEnter:ve,onKeydownNavigation:Y,onKeydownTypeAhead:ye,onCompositionStart:be,onCompositionEnd:q,highlightFirstItem:z}),(g,x)=>(_(),w(h(ce),{ref_key:"primitiveElement",ref:y,as:g.as,"as-child":g.asChild,dir:h(F),"data-disabled":h(u)?"":void 0,onPointerleave:W,onFocusout:x[0]||(x[0]=async I=>{const $=I.relatedTarget||I.target;await Ee(),f.value&&h(v)&&!h(v).contains($)&&W(I)})},{default:T(()=>[V(g.$slots,"default",{modelValue:h(A)}),h(B)&&g.name?(_(),w(h(us),{key:0,name:g.name,value:h(A),disabled:h(u),required:g.required},null,8,["name","value","disabled","required"])):ae("",!0)]),_:3},8,["as","as-child","dir","data-disabled"]))}}),fs=ie({__name:"ListboxContent",props:{asChild:{type:Boolean},as:{}},setup(s){const{CollectionSlot:e}=qe(),t=Ue(),n=_t(!1,10);return(a,i)=>(_(),w(h(e),null,{default:T(()=>[Z(h(ce),{role:"listbox",as:a.as,"as-child":a.asChild,tabindex:h(t).focusable.value?h(t).highlightedElement.value?"-1":"0":void 0,"aria-orientation":h(t).orientation.value,"aria-multiselectable":!!h(t).multiple.value,"data-orientation":h(t).orientation.value,onMousedown:i[0]||(i[0]=Se(l=>n.value=!0,["left"])),onFocus:i[1]||(i[1]=l=>{h(n)||h(t).onEnter(l)}),onKeydown:[i[2]||(i[2]=ge(Se(l=>{h(t).focusable.value&&h(t).onKeydownNavigation(l)},["prevent"]),["down","up","left","right","home","end"])),ge(h(t).onKeydownEnter,["enter"]),h(t).onKeydownTypeAhead]},{default:T(()=>[V(a.$slots,"default")]),_:3},8,["as","as-child","tabindex","aria-orientation","aria-multiselectable","data-orientation","onKeydown"])]),_:3}))}}),[ps,ms]=ze("ListboxGroup"),gs=ie({__name:"ListboxGroup",props:{asChild:{type:Boolean},as:{}},setup(s){const e=s,t=at(void 0,"reka-listbox-group");return ms({id:t}),(n,a)=>(_(),w(h(ce),H({role:"group"},e,{"aria-labelledby":h(t)}),{default:T(()=>[V(n.$slots,"default")]),_:3},16,["aria-labelledby"]))}}),vs=ie({__name:"ListboxFilter",props:{modelValue:{},autoFocus:{type:Boolean},disabled:{type:Boolean},asChild:{type:Boolean},as:{default:"input"}},emits:["update:modelValue"],setup(s,{emit:e}){const t=s,a=it(t,"modelValue",e,{defaultValue:"",passive:t.modelValue===void 0}),i=Ue(),{primitiveElement:l,currentElement:o}=Ve(),u=P(()=>t.disabled||i.disabled.value||!1),c=J();return Mt(()=>{var r;return c.value=(r=i.highlightedElement.value)==null?void 0:r.id}),kt(()=>{i.focusable.value=!1,setTimeout(()=>{var r;t.autoFocus&&((r=o.value)==null||r.focus())},1)}),Dt(()=>{i.focusable.value=!0}),(r,d)=>(_(),w(h(ce),{ref_key:"primitiveElement",ref:l,as:r.as,"as-child":r.asChild,value:h(a),disabled:u.value?"":void 0,"data-disabled":u.value?"":void 0,"aria-disabled":u.value??void 0,"aria-activedescendant":c.value,type:"text",onKeydown:[ge(Se(h(i).onKeydownNavigation,["prevent"]),["down","up","home","end"]),ge(h(i).onKeydownEnter,["enter"])],onInput:d[0]||(d[0]=m=>{a.value=m.target.value,h(i).highlightFirstItem(m)}),onCompositionstart:h(i).onCompositionStart,onCompositionend:h(i).onCompositionEnd},{default:T(()=>[V(r.$slots,"default",{modelValue:h(a)})]),_:3},8,["as","as-child","value","disabled","data-disabled","aria-disabled","aria-activedescendant","onKeydown","onCompositionstart","onCompositionend"]))}}),ys="listbox.select",[bs,As]=ze("ListboxItem"),Es=ie({__name:"ListboxItem",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{default:"div"}},emits:["select"],setup(s,{emit:e}){const t=s,n=e,a=at(void 0,"reka-listbox-item"),{CollectionItem:i}=qe(),{forwardRef:l,currentElement:o}=lt(),u=Ue(),c=P(()=>o.value===u.highlightedElement.value),r=P(()=>cs(u.modelValue.value,t.value,u.by)),d=P(()=>u.disabled.value||t.disabled);async function m(v){n("select",v),!(v!=null&&v.defaultPrevented)&&!d.value&&v&&(u.onValueChange(t.value),u.changeHighlight(o.value))}function y(v){const L={originalEvent:v,value:t.value};$t(ys,m,L)}return As({isSelected:r}),(v,L)=>(_(),w(h(i),{value:v.value},{default:T(()=>[wt([c.value,r.value],()=>Z(h(ce),H({id:h(a)},v.$attrs,{ref:h(l),role:"option",tabindex:h(u).focusable.value?c.value?"0":"-1":-1,"aria-selected":r.value,as:v.as,"as-child":v.asChild,disabled:d.value?"":void 0,"data-disabled":d.value?"":void 0,"data-highlighted":c.value?"":void 0,"data-state":r.value?"checked":"unchecked",onClick:y,onKeydown:ge(Se(y,["prevent"]),["space"]),onPointermove:L[0]||(L[0]=F=>{h(u).highlightedElement.value!==h(o)&&(h(u).highlightOnHover.value?h(u).changeHighlight(h(o),!1):h(u).focusable.value||h(u).changeHighlight(h(o),!1))})}),{default:T(()=>[V(v.$slots,"default")]),_:3},16,["id","tabindex","aria-selected","as","as-child","disabled","data-disabled","data-highlighted","data-state","onKeydown"]),L,1)]),_:3},8,["value"]))}}),Cs=ie({__name:"ListboxItemIndicator",props:{asChild:{type:Boolean},as:{default:"span"}},setup(s){const e=s;lt();const t=bs();return(n,a)=>h(t).isSelected.value?(_(),w(h(ce),H({key:0,"aria-hidden":"true"},e),{default:T(()=>[V(n.$slots,"default")]),_:3},16)):ae("",!0)}}),xs=ie({__name:"ListboxGroupLabel",props:{for:{},asChild:{type:Boolean},as:{default:"div"}},setup(s){const e=s,t=ps({id:""});return(n,a)=>(_(),w(h(ce),H(e,{id:h(t).id}),{default:T(()=>[V(n.$slots,"default")]),_:3},16,["id"]))}});function ne(s){return Array.isArray?Array.isArray(s):mt(s)==="[object Array]"}function Fs(s){if(typeof s=="string")return s;let e=s+"";return e=="0"&&1/s==-1/0?"-0":e}function Bs(s){return s==null?"":Fs(s)}function ee(s){return typeof s=="string"}function ft(s){return typeof s=="number"}function Is(s){return s===!0||s===!1||Ss(s)&&mt(s)=="[object Boolean]"}function pt(s){return typeof s=="object"}function Ss(s){return pt(s)&&s!==null}function U(s){return s!=null}function we(s){return!s.trim().length}function mt(s){return s==null?s===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(s)}const Ls="Incorrect 'index' type",_s=s=>`Invalid value for key ${s}`,Ms=s=>`Pattern length exceeds max of ${s}.`,ks=s=>`Missing ${s} property in key`,Ds=s=>`Property 'weight' in key '${s}' must be a positive integer`,Je=Object.prototype.hasOwnProperty;class ws{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach(n=>{let a=gt(n);this._keys.push(a),this._keyMap[a.id]=a,t+=a.weight}),this._keys.forEach(n=>{n.weight/=t})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function gt(s){let e=null,t=null,n=null,a=1,i=null;if(ee(s)||ne(s))n=s,e=Ze(s),t=Re(s);else{if(!Je.call(s,"name"))throw new Error(ks("name"));const l=s.name;if(n=l,Je.call(s,"weight")&&(a=s.weight,a<=0))throw new Error(Ds(l));e=Ze(l),t=Re(l),i=s.getFn}return{path:e,id:t,weight:a,src:n,getFn:i}}function Ze(s){return ne(s)?s:s.split(".")}function Re(s){return ne(s)?s.join("."):s}function $s(s,e){let t=[],n=!1;const a=(i,l,o)=>{if(U(i))if(!l[o])t.push(i);else{let u=l[o];const c=i[u];if(!U(c))return;if(o===l.length-1&&(ee(c)||ft(c)||Is(c)))t.push(Bs(c));else if(ne(c)){n=!0;for(let r=0,d=c.length;r<d;r+=1)a(c[r],l,o+1)}else l.length&&a(c,l,o+1)}};return a(s,ee(e)?e.split("."):e,0),n?t:t[0]}const Ts={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Ks={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(s,e)=>s.score===e.score?s.idx<e.idx?-1:1:s.score<e.score?-1:1},Rs={location:0,threshold:.6,distance:100},Ps={useExtendedSearch:!1,getFn:$s,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var C={...Ks,...Ts,...Rs,...Ps};const Os=/[^ ]+/g;function Ns(s=1,e=3){const t=new Map,n=Math.pow(10,e);return{get(a){const i=a.match(Os).length;if(t.has(i))return t.get(i);const l=1/Math.pow(i,.5*s),o=parseFloat(Math.round(l*n)/n);return t.set(i,o),o},clear(){t.clear()}}}class We{constructor({getFn:e=C.getFn,fieldNormWeight:t=C.fieldNormWeight}={}){this.norm=Ns(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((t,n)=>{this._keysMap[t.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,ee(this.docs[0])?this.docs.forEach((e,t)=>{this._addString(e,t)}):this.docs.forEach((e,t)=>{this._addObject(e,t)}),this.norm.clear())}add(e){const t=this.size();ee(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!U(e)||we(e))return;let n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}_addObject(e,t){let n={i:t,$:{}};this.keys.forEach((a,i)=>{let l=a.getFn?a.getFn(e):this.getFn(e,a.path);if(U(l)){if(ne(l)){let o=[];const u=[{nestedArrIndex:-1,value:l}];for(;u.length;){const{nestedArrIndex:c,value:r}=u.pop();if(U(r))if(ee(r)&&!we(r)){let d={v:r,i:c,n:this.norm.get(r)};o.push(d)}else ne(r)&&r.forEach((d,m)=>{u.push({nestedArrIndex:m,value:d})})}n.$[i]=o}else if(ee(l)&&!we(l)){let o={v:l,n:this.norm.get(l)};n.$[i]=o}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function vt(s,e,{getFn:t=C.getFn,fieldNormWeight:n=C.fieldNormWeight}={}){const a=new We({getFn:t,fieldNormWeight:n});return a.setKeys(s.map(gt)),a.setSources(e),a.create(),a}function Hs(s,{getFn:e=C.getFn,fieldNormWeight:t=C.fieldNormWeight}={}){const{keys:n,records:a}=s,i=new We({getFn:e,fieldNormWeight:t});return i.setKeys(n),i.setIndexRecords(a),i}function Fe(s,{errors:e=0,currentLocation:t=0,expectedLocation:n=0,distance:a=C.distance,ignoreLocation:i=C.ignoreLocation}={}){const l=e/s.length;if(i)return l;const o=Math.abs(n-t);return a?l+o/a:o?1:l}function js(s=[],e=C.minMatchCharLength){let t=[],n=-1,a=-1,i=0;for(let l=s.length;i<l;i+=1){let o=s[i];o&&n===-1?n=i:!o&&n!==-1&&(a=i-1,a-n+1>=e&&t.push([n,a]),n=-1)}return s[i-1]&&i-n>=e&&t.push([n,i-1]),t}const ue=32;function Vs(s,e,t,{location:n=C.location,distance:a=C.distance,threshold:i=C.threshold,findAllMatches:l=C.findAllMatches,minMatchCharLength:o=C.minMatchCharLength,includeMatches:u=C.includeMatches,ignoreLocation:c=C.ignoreLocation}={}){if(e.length>ue)throw new Error(Ms(ue));const r=e.length,d=s.length,m=Math.max(0,Math.min(n,d));let y=i,v=m;const L=o>1||u,F=L?Array(d):[];let B;for(;(B=s.indexOf(e,v))>-1;){let f=Fe(e,{currentLocation:B,expectedLocation:m,distance:a,ignoreLocation:c});if(y=Math.min(f,y),v=B+r,L){let S=0;for(;S<r;)F[B+S]=1,S+=1}}v=-1;let M=[],D=1,E=r+d;const A=1<<r-1;for(let f=0;f<r;f+=1){let S=0,k=E;for(;S<k;)Fe(e,{errors:f,currentLocation:m+k,expectedLocation:m,distance:a,ignoreLocation:c})<=y?S=k:E=k,k=Math.floor((E-S)/2+S);E=k;let p=Math.max(1,m-k+1),j=l?d:Math.min(m+k,d)+r,K=Array(j+2);K[j+1]=(1<<f)-1;for(let R=j;R>=p;R-=1){let O=R-1,re=t[s.charAt(O)];if(L&&(F[O]=+!!re),K[R]=(K[R+1]<<1|1)&re,f&&(K[R]|=(M[R+1]|M[R])<<1|1|M[R+1]),K[R]&A&&(D=Fe(e,{errors:f,currentLocation:O,expectedLocation:m,distance:a,ignoreLocation:c}),D<=y)){if(y=D,v=O,v<=m)break;p=Math.max(1,2*m-v)}}if(Fe(e,{errors:f+1,currentLocation:m,expectedLocation:m,distance:a,ignoreLocation:c})>y)break;M=K}const b={isMatch:v>=0,score:Math.max(.001,D)};if(L){const f=js(F,o);f.length?u&&(b.indices=f):b.isMatch=!1}return b}function zs(s){let e={};for(let t=0,n=s.length;t<n;t+=1){const a=s.charAt(t);e[a]=(e[a]||0)|1<<n-t-1}return e}const Le=String.prototype.normalize?s=>s.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):s=>s;class yt{constructor(e,{location:t=C.location,threshold:n=C.threshold,distance:a=C.distance,includeMatches:i=C.includeMatches,findAllMatches:l=C.findAllMatches,minMatchCharLength:o=C.minMatchCharLength,isCaseSensitive:u=C.isCaseSensitive,ignoreDiacritics:c=C.ignoreDiacritics,ignoreLocation:r=C.ignoreLocation}={}){if(this.options={location:t,threshold:n,distance:a,includeMatches:i,findAllMatches:l,minMatchCharLength:o,isCaseSensitive:u,ignoreDiacritics:c,ignoreLocation:r},e=u?e:e.toLowerCase(),e=c?Le(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;const d=(y,v)=>{this.chunks.push({pattern:y,alphabet:zs(y),startIndex:v})},m=this.pattern.length;if(m>ue){let y=0;const v=m%ue,L=m-v;for(;y<L;)d(this.pattern.substr(y,ue),y),y+=ue;if(v){const F=m-ue;d(this.pattern.substr(F),F)}}else d(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,ignoreDiacritics:n,includeMatches:a}=this.options;if(e=t?e:e.toLowerCase(),e=n?Le(e):e,this.pattern===e){let L={isMatch:!0,score:0};return a&&(L.indices=[[0,e.length-1]]),L}const{location:i,distance:l,threshold:o,findAllMatches:u,minMatchCharLength:c,ignoreLocation:r}=this.options;let d=[],m=0,y=!1;this.chunks.forEach(({pattern:L,alphabet:F,startIndex:B})=>{const{isMatch:M,score:D,indices:E}=Vs(e,L,F,{location:i+B,distance:l,threshold:o,findAllMatches:u,minMatchCharLength:c,includeMatches:a,ignoreLocation:r});M&&(y=!0),m+=D,M&&E&&(d=[...d,...E])});let v={isMatch:y,score:y?m/this.chunks.length:1};return y&&a&&(v.indices=d),v}}class le{constructor(e){this.pattern=e}static isMultiMatch(e){return et(e,this.multiRegex)}static isSingleMatch(e){return et(e,this.singleRegex)}search(){}}function et(s,e){const t=s.match(e);return t?t[1]:null}class qs extends le{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class Us extends le{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const n=e.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class Ws extends le{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class Gs extends le{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class Ys extends le{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class Qs extends le{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class bt extends le{constructor(e,{location:t=C.location,threshold:n=C.threshold,distance:a=C.distance,includeMatches:i=C.includeMatches,findAllMatches:l=C.findAllMatches,minMatchCharLength:o=C.minMatchCharLength,isCaseSensitive:u=C.isCaseSensitive,ignoreDiacritics:c=C.ignoreDiacritics,ignoreLocation:r=C.ignoreLocation}={}){super(e),this._bitapSearch=new yt(e,{location:t,threshold:n,distance:a,includeMatches:i,findAllMatches:l,minMatchCharLength:o,isCaseSensitive:u,ignoreDiacritics:c,ignoreLocation:r})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class At extends le{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t=0,n;const a=[],i=this.pattern.length;for(;(n=e.indexOf(this.pattern,t))>-1;)t=n+i,a.push([n,t-1]);const l=!!a.length;return{isMatch:l,score:l?0:1,indices:a}}}const Pe=[qs,At,Ws,Gs,Qs,Ys,Us,bt],tt=Pe.length,Xs=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Js="|";function Zs(s,e={}){return s.split(Js).map(t=>{let n=t.trim().split(Xs).filter(i=>i&&!!i.trim()),a=[];for(let i=0,l=n.length;i<l;i+=1){const o=n[i];let u=!1,c=-1;for(;!u&&++c<tt;){const r=Pe[c];let d=r.isMultiMatch(o);d&&(a.push(new r(d,e)),u=!0)}if(!u)for(c=-1;++c<tt;){const r=Pe[c];let d=r.isSingleMatch(o);if(d){a.push(new r(d,e));break}}}return a})}const en=new Set([bt.type,At.type]);class tn{constructor(e,{isCaseSensitive:t=C.isCaseSensitive,ignoreDiacritics:n=C.ignoreDiacritics,includeMatches:a=C.includeMatches,minMatchCharLength:i=C.minMatchCharLength,ignoreLocation:l=C.ignoreLocation,findAllMatches:o=C.findAllMatches,location:u=C.location,threshold:c=C.threshold,distance:r=C.distance}={}){this.query=null,this.options={isCaseSensitive:t,ignoreDiacritics:n,includeMatches:a,minMatchCharLength:i,findAllMatches:o,ignoreLocation:l,location:u,threshold:c,distance:r},e=t?e:e.toLowerCase(),e=n?Le(e):e,this.pattern=e,this.query=Zs(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:a,ignoreDiacritics:i}=this.options;e=a?e:e.toLowerCase(),e=i?Le(e):e;let l=0,o=[],u=0;for(let c=0,r=t.length;c<r;c+=1){const d=t[c];o.length=0,l=0;for(let m=0,y=d.length;m<y;m+=1){const v=d[m],{isMatch:L,indices:F,score:B}=v.search(e);if(L){if(l+=1,u+=B,n){const M=v.constructor.type;en.has(M)?o=[...o,...F]:o.push(F)}}else{u=0,l=0,o.length=0;break}}if(l){let m={isMatch:!0,score:u/l};return n&&(m.indices=o),m}}return{isMatch:!1,score:1}}}const Oe=[];function sn(...s){Oe.push(...s)}function Ne(s,e){for(let t=0,n=Oe.length;t<n;t+=1){let a=Oe[t];if(a.condition(s,e))return new a(s,e)}return new yt(s,e)}const _e={AND:"$and",OR:"$or"},He={PATH:"$path",PATTERN:"$val"},je=s=>!!(s[_e.AND]||s[_e.OR]),nn=s=>!!s[He.PATH],an=s=>!ne(s)&&pt(s)&&!je(s),st=s=>({[_e.AND]:Object.keys(s).map(e=>({[e]:s[e]}))});function Et(s,e,{auto:t=!0}={}){const n=a=>{let i=Object.keys(a);const l=nn(a);if(!l&&i.length>1&&!je(a))return n(st(a));if(an(a)){const u=l?a[He.PATH]:i[0],c=l?a[He.PATTERN]:a[u];if(!ee(c))throw new Error(_s(u));const r={keyId:Re(u),pattern:c};return t&&(r.searcher=Ne(c,e)),r}let o={children:[],operator:i[0]};return i.forEach(u=>{const c=a[u];ne(c)&&c.forEach(r=>{o.children.push(n(r))})}),o};return je(s)||(s=st(s)),n(s)}function ln(s,{ignoreFieldNorm:e=C.ignoreFieldNorm}){s.forEach(t=>{let n=1;t.matches.forEach(({key:a,norm:i,score:l})=>{const o=a?a.weight:null;n*=Math.pow(l===0&&o?Number.EPSILON:l,(o||1)*(e?1:i))}),t.score=n})}function rn(s,e){const t=s.matches;e.matches=[],U(t)&&t.forEach(n=>{if(!U(n.indices)||!n.indices.length)return;const{indices:a,value:i}=n;let l={indices:a,value:i};n.key&&(l.key=n.key.src),n.idx>-1&&(l.refIndex=n.idx),e.matches.push(l)})}function on(s,e){e.score=s.score}function un(s,e,{includeMatches:t=C.includeMatches,includeScore:n=C.includeScore}={}){const a=[];return t&&a.push(rn),n&&a.push(on),s.map(i=>{const{idx:l}=i,o={item:e[l],refIndex:l};return a.length&&a.forEach(u=>{u(i,o)}),o})}class de{constructor(e,t={},n){this.options={...C,...t},this.options.useExtendedSearch,this._keyStore=new ws(this.options.keys),this.setCollection(e,n)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof We))throw new Error(Ls);this._myIndex=t||vt(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){U(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const t=[];for(let n=0,a=this._docs.length;n<a;n+=1){const i=this._docs[n];e(i,n)&&(this.removeAt(n),n-=1,a-=1,t.push(i))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:n,includeScore:a,shouldSort:i,sortFn:l,ignoreFieldNorm:o}=this.options;let u=ee(e)?ee(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return ln(u,{ignoreFieldNorm:o}),i&&u.sort(l),ft(t)&&t>-1&&(u=u.slice(0,t)),un(u,this._docs,{includeMatches:n,includeScore:a})}_searchStringList(e){const t=Ne(e,this.options),{records:n}=this._myIndex,a=[];return n.forEach(({v:i,i:l,n:o})=>{if(!U(i))return;const{isMatch:u,score:c,indices:r}=t.searchIn(i);u&&a.push({item:i,idx:l,matches:[{score:c,value:i,norm:o,indices:r}]})}),a}_searchLogical(e){const t=Et(e,this.options),n=(o,u,c)=>{if(!o.children){const{keyId:d,searcher:m}=o,y=this._findMatches({key:this._keyStore.get(d),value:this._myIndex.getValueForItemAtKeyId(u,d),searcher:m});return y&&y.length?[{idx:c,item:u,matches:y}]:[]}const r=[];for(let d=0,m=o.children.length;d<m;d+=1){const y=o.children[d],v=n(y,u,c);if(v.length)r.push(...v);else if(o.operator===_e.AND)return[]}return r},a=this._myIndex.records,i={},l=[];return a.forEach(({$:o,i:u})=>{if(U(o)){let c=n(t,o,u);c.length&&(i[u]||(i[u]={idx:u,item:o,matches:[]},l.push(i[u])),c.forEach(({matches:r})=>{i[u].matches.push(...r)}))}}),l}_searchObjectList(e){const t=Ne(e,this.options),{keys:n,records:a}=this._myIndex,i=[];return a.forEach(({$:l,i:o})=>{if(!U(l))return;let u=[];n.forEach((c,r)=>{u.push(...this._findMatches({key:c,value:l[r],searcher:t}))}),u.length&&i.push({idx:o,item:l,matches:u})}),i}_findMatches({key:e,value:t,searcher:n}){if(!U(t))return[];let a=[];if(ne(t))t.forEach(({v:i,i:l,n:o})=>{if(!U(i))return;const{isMatch:u,score:c,indices:r}=n.searchIn(i);u&&a.push({score:c,key:e,value:i,idx:l,norm:o,indices:r})});else{const{v:i,n:l}=t,{isMatch:o,score:u,indices:c}=n.searchIn(i);o&&a.push({score:u,key:e,value:i,norm:l,indices:c})}return a}}de.version="7.1.0";de.createIndex=vt;de.parseIndex=Hs;de.config=C;de.parseQuery=Et;sn(tn);function cn(s,e,t){const n=()=>{var l,o;return new de((l=se(e))!=null?l:[],(o=se(t))==null?void 0:o.fuseOptions)},a=J(n());Ie(()=>{var l;return(l=se(t))==null?void 0:l.fuseOptions},()=>{a.value=n()},{deep:!0}),Ie(()=>se(e),l=>{a.value.setCollection(l)},{deep:!0});const i=P(()=>{const l=se(t);if(l!=null&&l.matchAllWhenSearchEmpty&&!se(s))return se(e).map((u,c)=>({item:u,refIndex:c}));const o=l==null?void 0:l.resultLimit;return a.value.search(se(s),o?{limit:o}:void 0)});return{fuse:a,results:i}}function dn(s,e){let t="",n=0,a=!1;for(let i=s.length-1;i>=0;i--){if(s[i]===">")a=!0;else if(s[i]==="<"){a=!1,t=s[i]+t;continue}if(a||n++,n<=e)t=s[i]+t;else{t="..."+t;break}}return t}function nt(s,e,t,n){var i;function a(l,o=[]){l=l||"";let u="",c=0;o.forEach(d=>{if(d.length===2&&d[0]===d[1])return;const m=d[1]+1,y=m-d[0]>=e.length;u+=[l.substring(c,d[0]),y&&"<mark>",l.substring(d[0],m),y&&"</mark>"].filter(Boolean).join(""),c=m}),u+=l.substring(c);const r=u.indexOf("<mark>");return r!==-1&&(u=dn(u,u.length-r)),u}if((i=s.matches)!=null&&i.length){for(const l of s.matches)if(!(t&&l.key!==t)&&!(n!=null&&n.includes(l.key)))return a(l.value,l.indices)}}const hn={slots:{root:"flex flex-col min-h-0 min-w-0 divide-y divide-default",input:"[&>input]:h-12",close:"",content:"relative overflow-hidden flex flex-col",viewport:"relative divide-y divide-default scroll-py-1 overflow-y-auto flex-1 focus:outline-none",group:"p-1 isolate",empty:"py-6 text-center text-sm text-muted",label:"p-1.5 text-xs font-semibold text-highlighted",item:"group relative w-full flex items-center gap-1.5 p-1.5 text-sm select-none outline-none before:absolute before:z-[-1] before:inset-px before:rounded-md data-disabled:cursor-not-allowed data-disabled:opacity-75",itemLeadingIcon:"shrink-0 size-5",itemLeadingAvatar:"shrink-0",itemLeadingAvatarSize:"2xs",itemLeadingChip:"shrink-0 size-5",itemLeadingChipSize:"md",itemTrailing:"ms-auto inline-flex gap-1.5 items-center",itemTrailingIcon:"shrink-0 size-5",itemTrailingHighlightedIcon:"shrink-0 size-5 text-dimmed hidden group-data-highlighted:inline-flex",itemTrailingKbds:"hidden lg:inline-flex items-center shrink-0 gap-0.5",itemTrailingKbdsSize:"md",itemLabel:"truncate space-x-1 rtl:space-x-reverse text-dimmed",itemLabelBase:"text-highlighted [&>mark]:text-inverted [&>mark]:bg-primary",itemLabelPrefix:"text-default",itemLabelSuffix:"text-dimmed [&>mark]:text-inverted [&>mark]:bg-primary"},variants:{active:{true:{item:"text-highlighted before:bg-elevated",itemLeadingIcon:"text-default"},false:{item:["text-default data-highlighted:not-data-disabled:text-highlighted data-highlighted:not-data-disabled:before:bg-elevated/50","transition-colors before:transition-colors"],itemLeadingIcon:["text-dimmed group-data-highlighted:not-group-data-disabled:text-default","transition-colors"]}},loading:{true:{itemLeadingIcon:"animate-spin"}}}},fn=["innerHTML"],pn=["innerHTML"],mn={__name:"UCommandPalette",props:$e({as:{type:null,required:!1},icon:{type:String,required:!1},selectedIcon:{type:String,required:!1},placeholder:{type:String,required:!1},autofocus:{type:Boolean,required:!1,default:!0},close:{type:[Boolean,Object],required:!1},closeIcon:{type:String,required:!1},groups:{type:Array,required:!1},fuse:{type:Object,required:!1},labelKey:{type:String,required:!1,default:"label"},class:{type:null,required:!1},ui:{type:null,required:!1},multiple:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},modelValue:{type:null,required:!1,default:""},defaultValue:{type:null,required:!1},highlightOnHover:{type:Boolean,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:String,required:!1}},{searchTerm:{type:String,default:""},searchTermModifiers:{}}),emits:$e(["update:modelValue","highlight","entryFocus","leave","update:open"],["update:searchTerm"]),setup(s,{emit:e}){const t=s,n=e,a=rt(),i=ot(s,"searchTerm",{type:String,default:""}),{t:l}=Tt(),o=ut(),u=Kt(Te(t,"as","disabled","multiple","modelValue","defaultValue","highlightOnHover"),n),c=ct(Te(t,"loading","loadingIcon")),r=P(()=>{var F;return Ge({extend:Ge(hn),...((F=o.ui)==null?void 0:F.commandPalette)||{}})()}),d=P(()=>dt({},t.fuse,{fuseOptions:{ignoreLocation:!0,threshold:.1,keys:[t.labelKey,"suffix"]},resultLimit:12,matchAllWhenSearchEmpty:!0})),m=P(()=>{var F;return((F=t.groups)==null?void 0:F.filter(B=>B.id?!B.ignoreFilter:(console.warn("[@nuxt/ui] CommandPalette group is missing an `id` property"),!1)).flatMap(B=>{var M;return((M=B.items)==null?void 0:M.map(D=>({...D,group:B.id})))||[]}))||[]}),{results:y}=cn(i,m,d);function v(F,B){return F!=null&&F.postFilter&&typeof F.postFilter=="function"&&(B=F.postFilter(i.value,B)),{...F,items:B.slice(0,d.value.resultLimit).map(M=>({...M,labelHtml:nt(M,i.value,t.labelKey),suffixHtml:nt(M,i.value,void 0,[t.labelKey])}))}}const L=P(()=>{var D,E,A;const F=y.value.reduce((b,f)=>{var p,j;const{item:S,matches:k}=f;return S.group&&(b[p=S.group]||(b[p]=[]),(j=b[S.group])==null||j.push({...S,matches:k})),b},{}),B=Object.entries(F).map(([b,f])=>{var k;const S=(k=t.groups)==null?void 0:k.find(p=>p.id===b);if(S)return v(S,f)}).filter(b=>!!b);return(((A=(E=(D=t.groups)==null?void 0:D.map((b,f)=>({...b,index:f})))==null?void 0:E.filter(b=>{var f;return b.ignoreFilter&&((f=b.items)==null?void 0:f.length)}))==null?void 0:A.map(b=>({...v(b,b.items||[]),index:b.index})))||[]).reduce((b,f)=>(b.splice(f.index,0,f),b),[...B])});return(F,B)=>{var M;return _(),w(h(hs),H(h(u),{class:r.value.root({class:[(M=t.ui)==null?void 0:M.root,t.class]})}),{default:T(()=>{var D;return[Z(h(vs),{modelValue:i.value,"onUpdate:modelValue":B[1]||(B[1]=E=>i.value=E),"as-child":""},{default:T(()=>{var E;return[Z(Rt,H({placeholder:s.placeholder||h(l)("commandPalette.placeholder"),variant:"none",autofocus:s.autofocus},h(c),{icon:s.icon||h(o).ui.icons.search,class:r.value.input({class:(E=t.ui)==null?void 0:E.input})}),ht({_:2},[s.close||a.close?{name:"trailing",fn:T(()=>[V(F.$slots,"close",{ui:r.value},()=>{var A;return[s.close?(_(),w(Pt,H({key:0,icon:s.closeIcon||h(o).ui.icons.close,size:"md",color:"neutral",variant:"ghost","aria-label":h(l)("commandPalette.close")},typeof s.close=="object"?s.close:{},{class:r.value.close({class:(A=t.ui)==null?void 0:A.close}),onClick:B[0]||(B[0]=b=>n("update:open",!1))}),null,16,["icon","aria-label","class"])):ae("",!0)]})]),key:"0"}:void 0]),1040,["placeholder","autofocus","icon","class"])]}),_:3},8,["modelValue"]),Z(h(fs),{class:N(r.value.content({class:(D=t.ui)==null?void 0:D.content}))},{default:T(()=>{var E,A,b;return[(E=L.value)!=null&&E.length?(_(),te("div",{key:0,role:"presentation",class:N(r.value.viewport({class:(A=t.ui)==null?void 0:A.viewport}))},[(_(!0),te(Be,null,pe(L.value,f=>{var S;return _(),w(h(gs),{key:`group-${f.id}`,class:N(r.value.group({class:(S=t.ui)==null?void 0:S.group}))},{default:T(()=>{var k;return[h(Ce)(f,t.labelKey)?(_(),w(h(xs),{key:0,class:N(r.value.label({class:(k=t.ui)==null?void 0:k.label}))},{default:T(()=>[Ye(ke(h(Ce)(f,t.labelKey)),1)]),_:2},1032,["class"])):ae("",!0),(_(!0),te(Be,null,pe(f.items,(p,j)=>(_(),w(h(Es),{key:`group-${f.id}-${j}`,value:h(Ke)(p,["matches","group","onSelect","labelHtml","suffixHtml"]),disabled:p.disabled,"as-child":"",onSelect:p.onSelect},{default:T(()=>[Z(Ot,H({ref_for:!0},h(Nt)(p),{custom:""}),{default:T(({active:K,...he})=>{var R,O;return[Z(Ht,H({ref_for:!0},he,{class:r.value.item({class:[(R=t.ui)==null?void 0:R.item,(O=p.ui)==null?void 0:O.item,p.class],active:K||p.active})}),{default:T(()=>[V(F.$slots,p.slot||f.slot||"item",{item:p,index:j},()=>{var re,ve,ye,be;return[V(F.$slots,p.slot?`${p.slot}-leading`:f.slot?`${f.slot}-leading`:"item-leading",{item:p,index:j},()=>{var q,z,W,X,Y,Q,oe,g,x,I,$,G;return[p.loading?(_(),w(xe,{key:0,name:s.loadingIcon||h(o).ui.icons.loading,class:N(r.value.itemLeadingIcon({class:[(q=t.ui)==null?void 0:q.itemLeadingIcon,(z=p.ui)==null?void 0:z.itemLeadingIcon],loading:!0}))},null,8,["name","class"])):p.icon?(_(),w(xe,{key:1,name:p.icon,class:N(r.value.itemLeadingIcon({class:[(W=t.ui)==null?void 0:W.itemLeadingIcon,(X=p.ui)==null?void 0:X.itemLeadingIcon],active:K||p.active}))},null,8,["name","class"])):p.avatar?(_(),w(jt,H({key:2,size:((Y=p.ui)==null?void 0:Y.itemLeadingAvatarSize)||((Q=t.ui)==null?void 0:Q.itemLeadingAvatarSize)||r.value.itemLeadingAvatarSize()},{ref_for:!0},p.avatar,{class:r.value.itemLeadingAvatar({class:[(oe=t.ui)==null?void 0:oe.itemLeadingAvatar,(g=p.ui)==null?void 0:g.itemLeadingAvatar],active:K||p.active})}),null,16,["size","class"])):p.chip?(_(),w(ns,H({key:3,size:((x=p.ui)==null?void 0:x.itemLeadingChipSize)||((I=t.ui)==null?void 0:I.itemLeadingChipSize)||r.value.itemLeadingChipSize(),inset:"",standalone:""},{ref_for:!0},p.chip,{class:r.value.itemLeadingChip({class:[($=t.ui)==null?void 0:$.itemLeadingChip,(G=p.ui)==null?void 0:G.itemLeadingChip],active:K||p.active})}),null,16,["size","class"])):ae("",!0)]}),p.labelHtml||h(Ce)(p,t.labelKey)||a[p.slot?`${p.slot}-label`:f.slot?`${f.slot}-label`:"item-label"]?(_(),te("span",{key:0,class:N(r.value.itemLabel({class:[(re=t.ui)==null?void 0:re.itemLabel,(ve=p.ui)==null?void 0:ve.itemLabel],active:K||p.active}))},[V(F.$slots,p.slot?`${p.slot}-label`:f.slot?`${f.slot}-label`:"item-label",{item:p,index:j},()=>{var q,z,W,X,Y,Q;return[p.prefix?(_(),te("span",{key:0,class:N(r.value.itemLabelPrefix({class:[(q=t.ui)==null?void 0:q.itemLabelPrefix,(z=p.ui)==null?void 0:z.itemLabelPrefix]}))},ke(p.prefix),3)):ae("",!0),De("span",{class:N(r.value.itemLabelBase({class:[(W=t.ui)==null?void 0:W.itemLabelBase,(X=p.ui)==null?void 0:X.itemLabelBase],active:K||p.active})),innerHTML:p.labelHtml||h(Ce)(p,t.labelKey)},null,10,fn),De("span",{class:N(r.value.itemLabelSuffix({class:[(Y=t.ui)==null?void 0:Y.itemLabelSuffix,(Q=p.ui)==null?void 0:Q.itemLabelSuffix],active:K||p.active})),innerHTML:p.suffixHtml||p.suffix},null,10,pn)]})],2)):ae("",!0),De("span",{class:N(r.value.itemTrailing({class:[(ye=t.ui)==null?void 0:ye.itemTrailing,(be=p.ui)==null?void 0:be.itemTrailing]}))},[V(F.$slots,p.slot?`${p.slot}-trailing`:f.slot?`${f.slot}-trailing`:"item-trailing",{item:p,index:j},()=>{var q,z,W,X,Y;return[(q=p.kbds)!=null&&q.length?(_(),te("span",{key:0,class:N(r.value.itemTrailingKbds({class:[(z=t.ui)==null?void 0:z.itemTrailingKbds,(W=p.ui)==null?void 0:W.itemTrailingKbds]}))},[(_(!0),te(Be,null,pe(p.kbds,(Q,oe)=>{var g,x;return _(),w(Vt,H({key:oe,size:((g=p.ui)==null?void 0:g.itemTrailingKbdsSize)||((x=t.ui)==null?void 0:x.itemTrailingKbdsSize)||r.value.itemTrailingKbdsSize()},{ref_for:!0},typeof Q=="string"?{value:Q}:Q),null,16,["size"])}),128))],2)):f.highlightedIcon?(_(),w(xe,{key:1,name:f.highlightedIcon,class:N(r.value.itemTrailingHighlightedIcon({class:[(X=t.ui)==null?void 0:X.itemTrailingHighlightedIcon,(Y=p.ui)==null?void 0:Y.itemTrailingHighlightedIcon]}))},null,8,["name","class"])):ae("",!0)]}),Z(h(Cs),{"as-child":""},{default:T(()=>{var q,z;return[Z(xe,{name:s.selectedIcon||h(o).ui.icons.check,class:N(r.value.itemTrailingIcon({class:[(q=t.ui)==null?void 0:q.itemTrailingIcon,(z=p.ui)==null?void 0:z.itemTrailingIcon]}))},null,8,["name","class"])]}),_:2},1024)],2)]})]),_:2},1040,["class"])]}),_:2},1040)]),_:2},1032,["value","disabled","onSelect"]))),128))]}),_:2},1032,["class"])}),128))],2)):(_(),te("div",{key:1,class:N(r.value.empty({class:(b=t.ui)==null?void 0:b.empty}))},[V(F.$slots,"empty",{searchTerm:i.value},()=>[Ye(ke(i.value?h(l)("commandPalette.noMatch",{searchTerm:i.value}):h(l)("commandPalette.noData")),1)])],2))]}),_:3},8,["class"])]}),_:3},16,["class"])}}},gn={slots:{modal:"sm:max-w-3xl sm:h-[28rem]",input:"[&>input]:text-base/5"}},vn=/^[^-]+.*-.*[^-]+$/,yn=/^[^_]+.*_.*[^_]+$/;function bn(s,e={}){const t=J([]),n=()=>{t.value.splice(0,t.value.length)},a=zt(n,e.chainDelay??800),{macOS:i}=qt(),l=Ut(),o=r=>{if(!r.key)return;const d=/^[a-z]{1}$/i.test(r.key);let m;if(t.value.push(r.key),t.value.length>=2){m=t.value.slice(-2).join("-");for(const y of c.value.filter(v=>v.chained))if(y.key===m){y.enabled&&(r.preventDefault(),y.handler(r)),n();return}}for(const y of c.value.filter(v=>!v.chained))if(r.key.toLowerCase()===y.key&&r.metaKey===y.metaKey&&r.ctrlKey===y.ctrlKey&&!(d&&r.shiftKey!==y.shiftKey)){y.enabled&&(r.preventDefault(),y.handler()),n();return}a()},u=P(()=>{var y,v,L;const r=(y=l.value)==null?void 0:y.tagName,d=(v=l.value)==null?void 0:v.contentEditable;return r==="INPUT"||r==="TEXTAREA"||d==="true"||d==="plaintext-only"?((L=l.value)==null?void 0:L.name)||!0:!1}),c=P(()=>Object.entries(se(s)).map(([r,d])=>{var L,F;if(!d)return null;let m;r.includes("-")&&r!=="-"&&!((L=r.match(vn))!=null&&L.length)&&console.trace(`[Shortcut] Invalid key: "${r}"`),r.includes("_")&&r!=="_"&&!((F=r.match(yn))!=null&&F.length)&&console.trace(`[Shortcut] Invalid key: "${r}"`);const y=r.includes("-")&&r!=="-";if(y)m={key:r.toLowerCase(),metaKey:!1,ctrlKey:!1,shiftKey:!1,altKey:!1};else{const B=r.toLowerCase().split("_").map(M=>M);m={key:B.filter(M=>!["meta","command","ctrl","shift","alt","option"].includes(M)).join("_"),metaKey:B.includes("meta")||B.includes("command"),ctrlKey:B.includes("ctrl"),shiftKey:B.includes("shift"),altKey:B.includes("alt")||B.includes("option")}}if(m.chained=y,!i.value&&m.metaKey&&!m.ctrlKey&&(m.metaKey=!1,m.ctrlKey=!0),typeof d=="function"?m.handler=d:typeof d=="object"&&(m={...m,handler:d.handler}),!m.handler)return console.trace("[Shortcut] Invalid value"),null;let v=!0;return d.usingInput?typeof d.usingInput=="string"&&(v=u.value===d.usingInput):v=!u.value,m.enabled=v,m}).filter(Boolean));return Wt("keydown",o)}const Fn={__name:"UContentSearch",props:$e({icon:{type:String,required:!1},placeholder:{type:null,required:!1},autofocus:{type:Boolean,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:String,required:!1},close:{type:[Boolean,Object],required:!1,default:!0},closeIcon:{type:String,required:!1},shortcut:{type:String,required:!1,default:"meta_k"},links:{type:Array,required:!1},navigation:{type:Array,required:!1},groups:{type:Array,required:!1},files:{type:Array,required:!1},fuse:{type:Object,required:!1},colorMode:{type:Boolean,required:!1,default:!0},class:{type:null,required:!1},ui:{type:void 0,required:!1}},{searchTerm:{type:String,default:""},searchTermModifiers:{}}),emits:["update:searchTerm"],setup(s,{expose:e}){const t=s,n=rt(),a=ot(s,"searchTerm",{type:String,default:""}),{t:i}=Gt(),{open:l}=Yt(),o=Qt(),u=ut(),c=ct(Te(t,"icon","placeholder","autofocus","loading","loadingIcon","close","closeIcon")),r=Ke(n,["content"]),d=P(()=>dt({},t.fuse,{fuseOptions:{includeMatches:!0}})),m=P(()=>{var E;return Qe({extend:Qe(gn),...((E=u.uiPro)==null?void 0:E.contentSearch)||{}})()});function y(E){return E.flatMap(A=>{var b;return[{...A,suffix:A.description,icon:A.icon||u.ui.icons.file},...((b=A.children)==null?void 0:b.map(f=>({...f,prefix:A.label+" >",suffix:f.description,icon:f.icon||A.icon||u.ui.icons.file})))||[]]})}function v(E,A){return E.flatMap(b=>{var f,S,k;return(f=b.children)!=null&&f.length?v(b.children,b):((k=(S=t.files)==null?void 0:S.filter(p=>p.id===b.path||p.id.startsWith(`${b.path}#`)))==null?void 0:k.map(p=>L(p,b,A)))||[]})}function L(E,A,b){const f=[...new Set([b==null?void 0:b.title,...E.titles].filter(Boolean))];return{prefix:f!=null&&f.length?f.join(" > ")+" >":void 0,label:E.id===A.path?A.title:E.title,suffix:E.content.replaceAll("<","&lt;").replaceAll(">","&gt;"),to:E.id,icon:A.icon||(b==null?void 0:b.icon)||(E.level>1?u.ui.icons.hash:u.ui.icons.file),level:E.level}}const F=P(()=>{var A,b;const E=[];return(A=t.links)!=null&&A.length&&E.push({id:"links",label:i("contentSearch.links"),items:y(t.links)}),(b=t.navigation)!=null&&b.length&&(t.navigation.some(f=>{var S;return!!((S=f.children)!=null&&S.length)})?E.push(...t.navigation.map(f=>({id:f.path,label:f.title,items:v(f.children||[]),postFilter:B}))):E.push({id:"docs",items:v(t.navigation),postFilter:B})),E.push(...t.groups||[]),t.colorMode&&!(o!=null&&o.forced)&&E.push({id:"theme",label:i("contentSearch.theme"),items:[{label:i("colorMode.system"),icon:u.ui.icons.system,active:o.preference==="system",onSelect:()=>{o.preference="system"}},{label:i("colorMode.light"),icon:u.ui.icons.light,active:o.preference==="light",onSelect:()=>{o.preference="light"}},{label:i("colorMode.dark"),icon:u.ui.icons.dark,active:o.preference==="dark",onSelect:()=>{o.preference="dark"}}]}),E});function B(E,A){return E?A:A==null?void 0:A.filter(b=>b.level===1)}function M(E){E.disabled||(l.value=!1,a.value="")}bn({[t.shortcut]:{usingInput:!0,handler:()=>l.value=!l.value}});const D=Xt("commandPaletteRef");return e({commandPaletteRef:D}),(E,A)=>{const b=mn,f=ss;return _(),w(f,{open:h(l),"onUpdate:open":A[2]||(A[2]=S=>ts(l)?l.value=S:null),class:N(m.value.modal({class:t.class}))},{content:T(()=>[V(E.$slots,"content",{},()=>[Z(b,H({ref_key:"commandPaletteRef",ref:D,"search-term":a.value,"onUpdate:searchTerm":A[0]||(A[0]=S=>a.value=S)},h(c),{groups:F.value,fuse:d.value,ui:h(Jt)(h(Ke)(m.value,["modal"]),t.ui),"onUpdate:modelValue":M,"onUpdate:open":A[1]||(A[1]=S=>l.value=S)}),ht({_:2},[pe(h(r),(S,k)=>({name:k,fn:T(p=>[V(E.$slots,k,Zt(es(p)))])}))]),1040,["search-term","groups","fuse","ui"])])]),_:3},8,["open","class"])}}};export{Fn as default};
