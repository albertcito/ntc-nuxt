import{y,z as u,aw as d,G as m,d as f,w,S as _,c as q,F as k,J as C,H as x,n as z,U as B,V as S,aO as $,aP as h}from"./B2L3QOlC.js";import{_ as g}from"./BUPb9pOR.js";const A={base:"flex flex-col gap-8 lg:gap-y-16",variants:{orientation:{horizontal:"sm:grid sm:grid-cols-2 lg:grid-cols-3",vertical:""}}},I={__name:"UBlogPosts",props:{as:{type:null,required:!1},posts:{type:Array,required:!1},orientation:{type:null,required:!1,default:"horizontal"},class:{type:null,required:!1}},setup(a){const l=a,e=y(),o=u(()=>{var t;return d({extend:d(A),...((t=e.uiPro)==null?void 0:t.blogPosts)||{}})});return(t,r)=>(f(),m(B(S),{as:a.as,"data-orientation":a.orientation,class:z(o.value({orientation:a.orientation,class:l.class}))},{default:w(()=>[_(t.$slots,"default",{},()=>[(f(!0),q(k,null,C(a.posts,(n,c)=>(f(),m(g,x({key:c,orientation:a.orientation==="vertical"?"horizontal":"vertical"},{ref_for:!0},n),null,16,["orientation"]))),128))])]),_:3},8,["as","data-orientation","class"]))}},j=async({page:a,itemsPerPage:l,tags:e,type:o})=>{const t=u(()=>(e==null?void 0:e.value.join(","))??""),r="all",n=u(()=>(a.value-1)*l.value),c=await $(u(()=>`${r}_${t.value}_${o.value.join(",")}_${a.value}_${n.value}_${l.value}`),()=>{const s=h(r).where("type","IN",o.value).order("date","DESC").skip(n.value).limit(l.value);return e!=null&&e.value.length&&s.orWhere(i=>{for(const v of e.value)i.where("tags","LIKE",`%${v}%`);return i}),s.all()},"$POFU5BF2nD"),{data:p}=await $(u(()=>`total_${r}_${o.value.join(",")}_${t.value}`),()=>{const s=h(r).where("type","IN",o.value);return e!=null&&e.value.length&&s.orWhere(i=>{for(const v of e.value)i.where("tags","LIKE",`%${v}%`);return i}),s.count()},"$9K5g10g6aa");return{articles:c,total:p,totalSkip:n}};export{I as _,j as u};
